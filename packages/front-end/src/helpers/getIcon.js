import { format } from 'helpers';

const iconFormat = [
  'ai',
  'attachment',
  'audio',
  'box_notes',
  'csv',
  'eps',
  'excel',
  'exe',
  'flash',
  'folder',
  'gdoc',
  'gdocs',
  'gform',
  'gpres',
  'gsheet',
  'html',
  'image',
  'keynote',
  'library_folder',
  'link',
  'mp4',
  'overlay',
  'pack',
  'pages',
  'pdf',
  'ppt',
  'psd',
  'quip_doc',
  'quip_sheet',
  'quip_slide',
  'rtf',
  'slide',
  'stypi',
  'txt',
  'unknown',
  'video',
  'visio',
  'webex',
  'word',
  'xml',
  'zip'
];

const icon2CategoryIcon = icon => {
  const match = {
    action: [
      'add_contact',
      'add_file',
      'add_photo_video',
      'add_relationship',
      'announcement',
      'apex',
      'approval',
      'back',
      'bug',
      'call',
      'canvas',
      'change_owner',
      'change_record_type',
      'check',
      'clone',
      'close',
      'defer',
      'delete',
      'description',
      'dial_in',
      'download',
      'edit_groups',
      'edit_relationship',
      'edit',
      'email',
      'fallback',
      'filter',
      'flow',
      'follow',
      'following',
      'freeze_user',
      'goal',
      'google_news',
      'info',
      'join_group',
      'lead_convert',
      'leave_group',
      'log_a_call',
      'log_event',
      'manage_perm_sets',
      'map',
      'more',
      'new_account',
      'new_campaign',
      'new_case',
      'new_child_case',
      'new_contact',
      'new_event',
      'new_group',
      'new_lead',
      'new_note',
      'new_notebook',
      'new_opportunity',
      'new_person_account',
      'new_task',
      'new',
      'password_unlock',
      'preview',
      'priority',
      'question_post_action',
      'quote',
      'recall',
      'record',
      'refresh',
      'reject',
      'remove_relationship',
      'remove',
      'reset_password',
      'script',
      'share_file',
      'share_link',
      'share_poll',
      'share_post',
      'share_thanks',
      'share',
      'sort',
      'submit_for_approval',
      'update_status',
      'update',
      'upload',
      'user_activation',
      'user',
      'view_relationship',
      'web_link'
    ],
    custom: [],
    doctype: [
      'ai',
      'attachment',
      'audio',
      'box_notes',
      'csv',
      'eps',
      'excel',
      'exe',
      'flash',
      'folder',
      'gdoc',
      'gdocs',
      'gform',
      'gpres',
      'gsheet',
      'html',
      'image',
      'keynote',
      'library_folder',
      'link',
      'mp4',
      'overlay',
      'pack',
      'pages',
      'pdf',
      'ppt',
      'psd',
      'quip_doc',
      'quip_sheet',
      'quip_slide',
      'rtf',
      'slide',
      'stypi',
      'txt',
      'unknown',
      'video',
      'visio',
      'webex',
      'word',
      'xml',
      'zip'
    ],
    standard: [
      'account',
      'action_list_component',
      'actions_and_buttons',
      'activations',
      'address',
      'agent_session',
      'all',
      'announcement',
      'answer_best',
      'answer_private',
      'answer_public',
      'apex_plugin',
      'apex',
      'app',
      'approval',
      'apps_admin',
      'apps',
      'article',
      'asset_action_source',
      'asset_action',
      'asset_downtime_period',
      'asset_object',
      'asset_relationship',
      'asset_state_period',
      'assigned_resource',
      'assignment',
      'avatar_loading',
      'avatar',
      'bot_training',
      'bot',
      'branch_merge',
      'brand',
      'business_hours',
      'buyer_account',
      'buyer_group',
      'calibration',
      'call_coaching',
      'call_history',
      'call',
      'campaign_members',
      'campaign',
      'cancel_checkout',
      'canvas',
      'carousel',
      'case_change_status',
      'case_comment',
      'case_email',
      'case_log_a_call',
      'case_milestone',
      'case_transcript',
      'case_wrap_up',
      'case',
      'catalog',
      'category',
      'channel_program_history',
      'channel_program_levels',
      'channel_program_members',
      'channel_programs',
      'chart',
      'choice',
      'client',
      'cms',
      'coaching',
      'code_playground',
      'collection_variable',
      'connected_apps',
      'constant',
      'contact_list',
      'contact_request',
      'contact',
      'contract_line_item',
      'contract',
      'currency_input',
      'currency',
      'custom_notification',
      'custom',
      'customer_360',
      'customer_lifecycle_analytics',
      'customer_portal_users',
      'customers',
      'dashboard_ea',
      'dashboard',
      'data_integration_hub',
      'data_model',
      'data_streams',
      'datadotcom',
      'dataset',
      'date_input',
      'date_time',
      'decision',
      'default',
      'delegated_account',
      'display_rich_text',
      'display_text',
      'document',
      'drafts',
      'dynamic_record_choice',
      'education',
      'einstein_replies',
      'email_chatter',
      'email',
      'employee_asset',
      'employee_contact',
      'employee_job_position',
      'employee_job',
      'employee_organization',
      'employee',
      'empty',
      'endorsement',
      'entitlement_policy',
      'entitlement_process',
      'entitlement_template',
      'entitlement',
      'entity_milestone',
      'entity',
      'environment_hub',
      'event',
      'events',
      'expense_report_entry',
      'expense_report',
      'expense',
      'feed',
      'feedback',
      'file',
      'filter',
      'first_non_empty',
      'flow',
      'folder',
      'forecasts',
      'formula',
      'fulfillment_order',
      'generic_loading',
      'global_constant',
      'goals',
      'group_loading',
      'groups',
      'hierarchy',
      'high_velocity_sales',
      'home',
      'household',
      'individual',
      'insights',
      'instore_locations',
      'investment_account',
      'invocable_action',
      'iot_context',
      'iot_orchestrations',
      'javascript_button',
      'job_family',
      'job_position',
      'job_profile',
      'kanban',
      'knowledge',
      'lead_insights',
      'lead_list',
      'lead',
      'letterhead',
      'lightning_component',
      'lightning_usage',
      'link',
      'list_email',
      'live_chat_visitor',
      'live_chat',
      'location',
      'log_a_call',
      'logging',
      'loop',
      'macros',
      'maintenance_asset',
      'maintenance_plan',
      'marketing_actions',
      'merge',
      'messaging_conversation',
      'messaging_session',
      'messaging_user',
      'metrics',
      'multi_picklist',
      'multi_select_checkbox',
      'news',
      'note',
      'number_input',
      'omni_supervisor',
      'operating_hours',
      'opportunity_contact_role',
      'opportunity_splits',
      'opportunity',
      'order_item',
      'orders',
      'outcome',
      'output',
      'partner_fund_allocation',
      'partner_fund_claim',
      'partner_fund_request',
      'partner_marketing_budget',
      'partners',
      'password',
      'past_chat',
      'people',
      'performance',
      'person_account',
      'photo',
      'picklist_choice',
      'picklist_type',
      'planogram',
      'poll',
      'portal_roles_and_subordinates',
      'portal_roles',
      'portal',
      'post',
      'pricebook',
      'process',
      'product_consumed',
      'product_item_transaction',
      'product_item',
      'product_request_line_item',
      'product_request',
      'product_required',
      'product_transfer',
      'product',
      'proposition',
      'question_best',
      'question_feed',
      'queue',
      'quick_text',
      'quip_sheet',
      'quip',
      'quotes',
      'radio_button',
      'read_receipts',
      'recent',
      'record_create',
      'record_delete',
      'record_lookup',
      'record_update',
      'record',
      'recycle_bin',
      'related_list',
      'relationship',
      'reply_text',
      'report',
      'resource_absence',
      'resource_capacity',
      'resource_preference',
      'resource_skill',
      'return_order_line_item',
      'return_order',
      'reward',
      'rtc_presence',
      'sales_cadence_target',
      'sales_cadence',
      'sales_channel',
      'sales_path',
      'sales_value',
      'salesforce_cms',
      'scan_card',
      'schedule_objective',
      'scheduling_constraints',
      'scheduling_policy',
      'screen',
      'search',
      'segments',
      'service_appointment_capacity_usage',
      'service_appointment',
      'service_contract',
      'service_crew_member',
      'service_crew',
      'service_report',
      'service_resource',
      'service_territory_location',
      'service_territory_member',
      'service_territory',
      'settings',
      'shift_preferences',
      'shift_template',
      'shift_type',
      'shift',
      'shipment',
      'skill_entity',
      'skill_requirement',
      'skill',
      'sms',
      'snippet',
      'snippets',
      'sobject_collection',
      'sobject',
      'social',
      'solution',
      'sort',
      'sossession',
      'stage_collection',
      'stage',
      'steps',
      'store_group',
      'store',
      'story',
      'strategy',
      'survey',
      'system_and_global_variable',
      'task',
      'task2',
      'team_member',
      'template',
      'text_template',
      'text',
      'textarea',
      'textbox',
      'thanks_loading',
      'thanks',
      'timesheet_entry',
      'timesheet',
      'timeslot',
      'today',
      'topic',
      'topic2',
      'trailhead',
      'unmatched',
      'user_role',
      'user',
      'variable',
      'visit_templates',
      'visits',
      'visualforce_page',
      'voice_call',
      'waits',
      'webcart',
      'work_capacity_limit',
      'work_capacity_usage',
      'work_contract',
      'work_order_item',
      'work_order',
      'work_plan_rule',
      'work_plan_template_entry',
      'work_plan_template',
      'work_plan',
      'work_queue',
      'work_step_template',
      'work_step',
      'work_type_group',
      'work_type'
    ],
    utility: []
  };

  const type = Object.entries(match).find(([key, values]) =>
    values.includes(icon)
  );

  return type ? type[0] : null;
};

const format2Icon = extension => {
  if (iconFormat.includes(extension)) return extension;

  const match = {
    // attachment: ['attachment'],
    image: ['jpg', 'png', 'jpeg'],
    word: ['docx', 'doc'],
    excel: ['xls', 'xlsx']
  };

  const type = Object.entries(match).find(([key, values]) =>
    values.includes(extension)
  );

  return type ? type[0] : extension;
};

const getIcon = name => {
  const extension = format(name);
  const iconName = format2Icon(extension);
  const iconCategory = icon2CategoryIcon(iconName);

  if (iconCategory === null) {
    return { iconName: 'unknown', iconCategory: 'doctype', extension };
  }

  return { iconName, iconCategory, extension };
};

export default getIcon;
